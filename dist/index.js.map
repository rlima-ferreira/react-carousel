{"version":3,"file":"index.js","sources":["../src/hooks/useInterval.ts","../src/styles.ts","../src/index.tsx"],"sourcesContent":["import { useEffect } from 'react';\n\nfunction useInterval(callback: Function, interval: number, stop: any) {\n  useEffect(() => {\n    const id = setInterval(() => !stop && callback(), interval);\n    return () => clearInterval(id);\n  }, [callback]);\n}\n\nexport default useInterval;\n","import styled from 'styled-components';\n\nexport const Wrapper = styled.div<{\n  height?: number;\n  width?: number;\n  background?: string;\n  color?: string;\n}>`\n  width: ${({ width }) => width || '100vw'};\n  background-color: ${({ background }) => background || '#444'};\n  overflow: hidden;\n  position: relative;\n\n  > div.items {\n    display: flex;\n    overflow-x: auto;\n    -ms-overflow-style: none; /* IE and Edge */\n    scrollbar-width: none; /* Firefox */\n    scroll-snap-type: x mandatory;\n    scroll-behavior: smooth;\n    -webkit-overflow-scrolling: touch;\n\n    &::-webkit-scrollbar {\n      display: none;\n    }\n\n    > div {\n      flex: none;\n      width: 100%;\n      height: ${({ height }) => height || '500px'};\n      scroll-snap-align: start;\n    }\n  }\n\n  > div.arrows {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n\n    > div {\n      position: absolute;\n      top: calc(50% - 85px);\n      left: 5%;\n\n      &:last-of-type {\n        left: inherit;\n        right: 5%;\n      }\n\n      > button {\n        color: ${({ color }) => color || '#fff'};\n        cursor: pointer;\n        height: 70px;\n        width: 70px;\n        background-color: transparent;\n        border: none;\n        outline: none;\n      }\n    }\n  }\n\n  > div.indicators {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: absolute;\n    bottom: 0;\n    height: 50px;\n    width: 100%;\n  }\n`;\n\nexport const Indicator = styled.button<{ active: boolean; color?: string }>`\n  border-radius: 100%;\n  height: 10px;\n  width: 10px;\n  border: 0;\n  margin-left: 10px;\n  background-color: ${({ active, color }) =>\n    active ? color || '#fff' : 'rgba(0, 0, 0, 0.3)'};\n  outline: none;\n  cursor: pointer;\n\n  &:first-of-type {\n    margin-left: 0;\n  }\n`;\n","import React, { ReactFragment, useEffect, useRef, useState } from 'react';\nimport useInterval from './hooks/useInterval';\nimport { Wrapper, Indicator } from './styles';\n\ninterface CarouselProps {\n  h?: number;\n  w?: number;\n  source: Array<any>;\n  getItem: Function;\n  getIndicator?: Function;\n  arrowLeftIcon?: ReactFragment;\n  arrowRightIcon?: ReactFragment;\n  autoplay?: boolean;\n  delay?: number;\n  iconColor?: string;\n  bg?: string;\n}\n\nconst Carousel: React.FC<CarouselProps> = ({\n  h,\n  w,\n  source,\n  getItem,\n  getIndicator,\n  arrowLeftIcon,\n  arrowRightIcon,\n  autoplay,\n  delay,\n  iconColor,\n  bg,\n}) => {\n  const [settings, setSettings] = useState({ current: 0, last: 0, autoplay });\n  const items = useRef<HTMLDivElement>(null);\n  const interval = 3000;\n\n  useEffect(() => {\n    const size = source.length - 1;\n    const { current, last } = settings;\n    if (current <= size) {\n      items.current?.scrollBy(items.current.offsetWidth * (current - last), 0);\n    } else {\n      items.current?.scrollBy(items.current.offsetWidth * -current, 0);\n    }\n    const id = setTimeout(\n      () => setSettings({ ...settings, autoplay }),\n      delay || interval\n    );\n    return () => clearTimeout(id);\n  }, [settings.current]);\n\n  useInterval(\n    () => {\n      if (!autoplay) return;\n      if (!settings.autoplay) return;\n      const size = source.length - 1;\n      let { current } = settings;\n      current = current + 1 <= size ? current + 1 : 0;\n      setSettings({ ...settings, last: settings.current, current });\n    },\n    delay || interval,\n    !settings.autoplay\n  );\n\n  function toggleItem(iterator: number = 1) {\n    const size = source.length - 1;\n    let current = settings.current + iterator;\n    if (iterator > 0) current = current <= size ? current : 0;\n    else if (iterator < 0) current = current >= 0 ? current : size;\n    setSettings({ last: settings.current, current, autoplay: false });\n  }\n\n  return (\n    <Wrapper width={w} height={h} background={bg} color={iconColor}>\n      <div ref={items} className=\"items\">\n        {source.map((item, index) => (\n          <div key={index.toString()}>{getItem(item)}</div>\n        ))}\n      </div>\n      <div className=\"arrows\">\n        <div>\n          <button onClick={() => toggleItem(-1)}>\n            {arrowLeftIcon || 'Back'}\n          </button>\n        </div>\n        <div>\n          <button onClick={() => toggleItem(1)}>\n            {arrowRightIcon || 'Next'}\n          </button>\n        </div>\n      </div>\n      <div className=\"indicators\">\n        {[...new Array(source.length)].map((_, index) =>\n          getIndicator ? (\n            getIndicator({\n              index,\n              active: index === settings.current,\n              navigate: () =>\n                setSettings({\n                  ...settings,\n                  last: settings.current,\n                  current: index,\n                }),\n            })\n          ) : (\n            <Indicator\n              key={index.toString()}\n              active={settings.current == index}\n              color={iconColor}\n              onClick={() =>\n                setSettings({\n                  ...settings,\n                  last: settings.current,\n                  current: index,\n                })\n              }\n            />\n          )\n        )}\n      </div>\n    </Wrapper>\n  );\n};\n\nexport default Carousel;\n"],"names":["useEffect","styled","useState","useRef","React"],"mappings":"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"}