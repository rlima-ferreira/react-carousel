{"version":3,"file":"index.js","sources":["../src/styles.ts","../src/index.tsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Wrapper = styled.div<{\n  height?: number;\n  width?: number;\n  background?: string;\n  color?: string;\n}>`\n  width: ${({ width }) => width || '100vw'};\n  background-color: ${({ background }) => background || '#444'};\n  overflow: hidden;\n  position: relative;\n\n  > div.items {\n    display: flex;\n    overflow-x: auto;\n    -ms-overflow-style: none; /* IE and Edge */\n    scrollbar-width: none; /* Firefox */\n    scroll-snap-type: x mandatory;\n    scroll-behavior: smooth;\n    -webkit-overflow-scrolling: touch;\n\n    &::-webkit-scrollbar {\n      display: none;\n    }\n\n    > div {\n      flex: none;\n      width: 100%;\n      height: ${({ height }) => height || '500px'};\n      scroll-snap-align: start;\n    }\n  }\n\n  > div.arrows {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n\n    > div {\n      position: absolute;\n      top: calc(50% - 85px);\n      left: 5%;\n\n      &:last-of-type {\n        left: inherit;\n        right: 5%;\n      }\n\n      > button {\n        color: ${({ color }) => color || '#fff'};\n        cursor: pointer;\n        height: 70px;\n        width: 70px;\n        background-color: transparent;\n        border: none;\n        outline: none;\n      }\n    }\n  }\n\n  > div.indicators {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: absolute;\n    bottom: 0;\n    height: 50px;\n    width: 100%;\n  }\n`;\n\nexport const Indicator = styled.button<{ active: boolean; color?: string }>`\n  border-radius: 100%;\n  height: 10px;\n  width: 10px;\n  border: none;\n  margin-left: 10px;\n  background-color: ${({ active, color }) =>\n    active ? color || '#fff' : 'rgba(0, 0, 0, 0.3)'};\n  outline: none;\n  cursor: pointer;\n\n  &:first-of-type {\n    margin-left: 0;\n  }\n`;\n","import React, { ReactFragment, useEffect, useRef, useState } from 'react';\nimport { Wrapper, Indicator } from './styles';\n\ninterface CarouselProps {\n  h?: number;\n  w?: number;\n  source: Array<any>;\n  getItem: Function;\n  getIndicator?: Function;\n  arrowLeftIcon?: ReactFragment;\n  arrowRightIcon?: ReactFragment;\n  // autoplay?: boolean;\n  // delay?: number;\n  iconColor?: string;\n  bg?: string;\n}\n\nconst Carousel: React.FC<CarouselProps> = ({\n  h,\n  w,\n  source,\n  getItem,\n  getIndicator,\n  arrowLeftIcon,\n  arrowRightIcon,\n  // autoplay,\n  // delay,\n  iconColor,\n  bg,\n}) => {\n  const [position, setPosition] = useState({\n    current: 0,\n    last: 0,\n  });\n  // const [timer] = useState(\n  //   autoplay ? setInterval(toggleItem, delay || 3000) : 0\n  // );\n  const items = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const size = source.length - 1;\n    const { current, last } = position;\n    if (current <= size) {\n      items.current?.scrollBy(items.current.offsetWidth * (current - last), 0);\n    } else {\n      items.current?.scrollBy(items.current.offsetWidth * -current, 0);\n    }\n    // return () => clearInterval(timer);\n  }, [position]);\n\n  function toggleItem(iterator: number = 1) {\n    const size = source.length - 1;\n    let current = position.current + iterator;\n    if (iterator > 0) current = current <= size ? current : 0;\n    else if (iterator < 0) current = current >= 0 ? current : size;\n    setPosition({ last: position.current, current });\n  }\n\n  return (\n    <Wrapper width={w} height={h} background={bg} color={iconColor}>\n      <div ref={items} className=\"items\">\n        {source.map((item, index) => (\n          <div key={index.toString()}>{getItem(item)}</div>\n        ))}\n      </div>\n      <div className=\"arrows\">\n        <div>\n          <button onClick={() => toggleItem(-1)}>\n            {arrowLeftIcon || 'Back'}\n          </button>\n        </div>\n        <div>\n          <button onClick={() => toggleItem(1)}>\n            {arrowRightIcon || 'Next'}\n          </button>\n        </div>\n      </div>\n      <div className=\"indicators\">\n        {[...new Array(source.length)].map((_, index) =>\n          getIndicator ? (\n            getIndicator({\n              index,\n              active: index === position.current,\n              navigate: () =>\n                setPosition({ last: position.current, current: index }),\n            })\n          ) : (\n            <Indicator\n              key={index.toString()}\n              active={position.current == index}\n              color={iconColor}\n              onClick={() =>\n                setPosition({ last: position.current, current: index })\n              }\n            />\n          )\n        )}\n      </div>\n    </Wrapper>\n  );\n};\n\nexport default Carousel;\n"],"names":["styled","useState","useRef","useEffect","React"],"mappings":"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"}